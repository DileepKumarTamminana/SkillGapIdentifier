Status: Failed
Test Event Name: requestSkillTest

Response:
{
  "errorMessage": "'NoneType' object has no attribute 'get'",
  "errorType": "AttributeError",
  "requestId": "4013b36b-ac44-438f-ae10-b19060e4958f",
  "stackTrace": [
    "  File \"/var/task/lambda_function.py\", line 12, in lambda_handler\n    employee_id = body.get(\"employeeId\")\n"
  ]
}

The area below shows the last 4 KB of the execution log.

Function Logs:
START RequestId: 4013b36b-ac44-438f-ae10-b19060e4958f Version: $LATEST
[ERROR] AttributeError: 'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "/var/task/lambda_function.py", line 12, in lambda_handler
    employee_id = body.get("employeeId")
END RequestId: 4013b36b-ac44-438f-ae10-b19060e4958f
REPORT RequestId: 4013b36b-ac44-438f-ae10-b19060e4958f	Duration: 11.46 ms	Billed Duration: 521 ms	Memory Size: 128 MB	Max Memory Used: 90 MB	Init Duration: 508.80 ms

------------------------------------------------------------------
exports.handler = async (event) => {
    try {
        const AWS = require("aws-sdk");
        const db = new AWS.DynamoDB();

        const employeeId = event.employeeId;
        const skillName = event.skillName;
        const certName = event.certificationName || "N/A";
        const expiryDate = event.expiryDate || "N/A";

        if (!employeeId || !skillName) {
            return {
                statusCode: 400,
                body: JSON.stringify({ message: "Employee & Skill are required" })
            };
        }

        // Generate unique requestId
        const requestId = "REQ_" + Date.now();

        // Build a safe DynamoDB item (no empty strings)
        const item = {
            requestId: { S: requestId },
            employeeId: { S: employeeId },
            skillName: { S: skillName },
            certificationName: { S: certName.trim() || "N/A" },
            expiryDate: { S: expiryDate.trim() || "N/A" },
            status: { S: "PENDING" },
            requestedAt: { S: new Date().toISOString() }
        };

        await db.putItem({
            TableName: "SkillRequests",
            Item: item
        }).promise();

        return {
            statusCode: 200,
            body: JSON.stringify({ message: "Submitted", requestId })
        };

    } catch (err) {
        console.log("ERROR:", err);
        return {
            statusCode: 500,
            body: JSON.stringify({ message: "Internal Server Error" })
        };
    }
};
-----------------------------------------
==============================================
Status: Failed
Test Event Name: requestSkillTest

Response:
{
  "errorMessage": "Syntax error in module 'lambda_function': invalid syntax (lambda_function.py, line 1)",
  "errorType": "Runtime.UserCodeSyntaxError",
  "requestId": "",
  "stackTrace": [
    "  File \"/var/task/lambda_function.py\" Line 1\n    exports.handler = async (event) => {\n"
  ]
}

The area below shows the last 4 KB of the execution log.

Function Logs:
[WARNING]	2025-12-02T07:39:49.624Z		LAMBDA_WARNING: Unhandled exception. The most likely cause is an issue in the function code. However, in rare cases, a Lambda runtime update can cause unexpected function behavior. For functions using managed runtimes, runtime updates can be triggered by a function change, or can be applied automatically. To determine if the runtime has been updated, check the runtime version in the INIT_START log entry. If this error correlates with a change in the runtime version, you may be able to mitigate this error by temporarily rolling back to the previous runtime version. For more information, see https://docs.aws.amazon.com/lambda/latest/dg/runtimes-update.html
[ERROR] Runtime.UserCodeSyntaxError: Syntax error in module 'lambda_function': invalid syntax (lambda_function.py, line 1)
Traceback (most recent call last):
  File "/var/task/lambda_function.py" Line 1
    exports.handler = async (event) => {
INIT_REPORT Init Duration: 161.86 ms	Phase: init	Status: error	Error Type: Runtime.UserCodeSyntaxError
[WARNING]	2025-12-02T07:39:49.756Z		LAMBDA_WARNING: Unhandled exception. The most likely cause is an issue in the function code. However, in rare cases, a Lambda runtime update can cause unexpected function behavior. For functions using managed runtimes, runtime updates can be triggered by a function change, or can be applied automatically. To determine if the runtime has been updated, check the runtime version in the INIT_START log entry. If this error correlates with a change in the runtime version, you may be able to mitigate this error by temporarily rolling back to the previous runtime version. For more information, see https://docs.aws.amazon.com/lambda/latest/dg/runtimes-update.html
[ERROR] Runtime.UserCodeSyntaxError: Syntax error in module 'lambda_function': invalid syntax (lambda_function.py, line 1)
Traceback (most recent call last):
  File "/var/task/lambda_function.py" Line 1
    exports.handler = async (event) => {
INIT_REPORT Init Duration: 104.59 ms	Phase: invoke	Status: error	Error Type: Runtime.UserCodeSyntaxError
START RequestId: a34ff188-9d4c-46a9-bd1f-087372adac8b Version: $LATEST
END RequestId: a34ff188-9d4c-46a9-bd1f-087372adac8b
REPORT RequestId: a34ff188-9d4c-46a9-bd1f-087372adac8b	Duration: 115.36 ms	Billed Duration: 116 ms	Memory Size: 128 MB	Max Memory Used: 47 MB	Status: error	Error Type: Runtime.UserCodeSyntaxError

Request ID: a34ff188-9d4c-46a9-bd1f-087372adac8b
